<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SpatialV2A</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
<div class="container">

<h1>Spatial Video-to-Audio Generation</h1>

<p class="notice">
  Please use headphones ğŸ§ for better spatial perception.
</p>

<h2>Qualitative Comparison</h2>

<table id="video-table">
  <thead>
    <tr>
      <th>Content Type</th>
      <th>GT</th>
      <th><b>SpatialV2A (Ours)</b></th>
      <th>SEE-2-SOUND</th>
      <th>MMAudio</th>
      <th>Frieren</th>
      <th>Seeing-and-Hearing</th>
      <th>ReWaS</th>
    </tr>
  </thead>
  <tbody>
    <!-- rows will be inserted automatically -->
  </tbody>
</table>

</div>

<script>
/* ================== CONFIG ================== */

// ä½ çš„è§†é¢‘æ ¹ç›®å½•
const VIDEO_ROOT = "assets/video";

// 10 ä¸ª sample ç›®å½•åï¼ˆå¿…é¡»å’Œæ–‡ä»¶å¤¹åä¸€è‡´ï¼‰
const SAMPLES = [
  "sample01",
  "sample02",
  "sample03",
  "sample04",
  "sample05",
  "sample06",
  "sample07",
  "sample08",
  "sample09",
  "sample10"
];

// æ–¹æ³•åï¼ˆ= mp4 æ–‡ä»¶åï¼‰
const METHODS = [
  "GT",
  "SpatialV2A",
  "SEE-2-SOUND",
  "MMAudio",
  "Frieren",
  "Seeing-and-Hearing",
  "ReWaS"
];

/* ================== LOGIC ================== */

async function loadSamples() {
  const tbody = document.querySelector("#video-table tbody");

  for (const sample of SAMPLES) {
    const row = document.createElement("tr");

    /* -------- Content Type (txt) -------- */
    const contentCell = document.createElement("td");
    try {
      const resp = await fetch(`${VIDEO_ROOT}/${sample}/content.txt`);
      contentCell.textContent = await resp.text();
    } catch (e) {
      contentCell.textContent = "Content not found";
    }
    row.appendChild(contentCell);

    /* -------- Videos -------- */
    for (const method of METHODS) {
      const cell = document.createElement("td");

      const video = document.createElement("video");
      video.controls = true;
      video.muted = true;
      video.loop = true;
      video.width = 160;

      const source = document.createElement("source");
      source.src = `${VIDEO_ROOT}/${sample}/${method}.mp4`;
      source.type = "video/mp4";

      video.appendChild(source);
      cell.appendChild(video);
      row.appendChild(cell);
    }

    tbody.appendChild(row);
  }
}

loadSamples();
</script>

</body>
</html>

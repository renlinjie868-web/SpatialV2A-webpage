<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>SpatialV2A</title>
  <link rel="stylesheet" href="style.css?v=4">
</head>

<body>
<div class="container">

<h1>Spatial Video-to-Audio Generation</h1>

<p class="notice">
  Best viewed on desktop. Please use headphones ðŸŽ§.
</p>

<h2>Qualitative Comparison</h2>

<table class="video-table">
  <thead>
    <tr>
      <th class="content-col">Content Type</th>
      <th class="methods-col">Methods (scroll horizontally)</th>
    </tr>
  </thead>
  <tbody id="video-body">
    <!-- rows inserted by JS -->
  </tbody>
</table>

</div>

<script>
const VIDEO_ROOT = "assets/video";

const SAMPLES = [
  "sample01","sample02","sample03","sample04","sample05",
  "sample06","sample07","sample08","sample09","sample10"
];

const METHODS = [
  "GT",
  "SpatialV2A",
  "SEE-2-SOUND",
  "MMAudio",
  "Frieren",
  "Seeing-and-Hearing",
  "ReWaS"
];

async function loadSamples() {
  const tbody = document.getElementById("video-body");

  for (const sample of SAMPLES) {
    const row = document.createElement("tr");

    /* Content */
    const contentTd = document.createElement("td");
    contentTd.className = "content-col";
    try {
      const resp = await fetch(`${VIDEO_ROOT}/${sample}/content.txt`);
      contentTd.textContent = (await resp.text()).trim();
    } catch {
      contentTd.textContent = "Content not found";
    }
    row.appendChild(contentTd);

    /* Methods */
    const methodsTd = document.createElement("td");
    methodsTd.className = "methods-col";

    const scrollDiv = document.createElement("div");
    scrollDiv.className = "method-scroll";

    for (const method of METHODS) {
      const block = document.createElement("div");
      block.className = "method-block";
      if (method === "SpatialV2A") block.classList.add("ours");

      const label = document.createElement("div");
      label.className = "method-label";
      label.textContent = method === "SpatialV2A" ? "SpatialV2A (Ours)" : method;

      const video = document.createElement("video");
      video.controls = true;
      video.muted = true;
      video.loop = true;

      const source = document.createElement("source");
      source.src = `${VIDEO_ROOT}/${sample}/${method}.mp4`;
      source.type = "video/mp4";

      video.appendChild(source);

      block.appendChild(label);
      block.appendChild(video);
      scrollDiv.appendChild(block);
    }

    methodsTd.appendChild(scrollDiv);
    row.appendChild(methodsTd);
    tbody.appendChild(row);
  }
}

loadSamples();
</script>

</body>
</html>
